(this["webpackJsonpredux-thunk-intro-inicial"]=this["webpackJsonpredux-thunk-intro-inicial"]||[]).push([[0],{239:function(e,t,n){e.exports=n(412)},412:function(e,t,n){"use strict";n.r(t);var a=n(40),r=n(0),s=n.n(r),o=n(18),c=n.n(o),i=n(155),l=n.n(i),u=n(92),p=n(17),d=n(39),m=n(29),h=n(58),f=n.n(h),E=n(22),y=n(23),b=n(16),j=n(30),x=n.n(j),O=n(59),k=n(60),v=n.n(k);const P=(e,t,n)=>({type:"ADD_POST",payload:{text:e,id:t,likedByMe:n}}),g=e=>({type:"LIKE_POST",payload:{id:e}}),C=()=>function(){var e=Object(O.a)(x.a.mark((function e(t,n){var a;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.get("https://us-central1-missao-newton.cloudfunctions.net/reduxPosts/posts");case 2:a=e.sent,t({type:"SET_POSTS",payload:{postsList:a.data.posts}});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),w=e=>function(){var t=Object(O.a)(x.a.mark((function t(n,a){var r;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,v.a.post("https://us-central1-missao-newton.cloudfunctions.net/reduxPosts/posts",{text:e});case 2:r=t.sent,n(P(r.data.post.text,r.data.post.id,r.data.post.likedByMe));case 4:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),B=e=>function(){var t=Object(O.a)(x.a.mark((function t(n,a){return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,v.a.put("https://us-central1-missao-newton.cloudfunctions.net/reduxPosts/posts/".concat(e,"/like"));case 2:t.sent,n(g(e));case 4:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}();function M(){const e=Object(E.a)(["\n  display: flex;\n  justify-content: flex-end;\n"]);return M=function(){return e},e}function S(){const e=Object(E.a)(["\n  margin-right: 10px;\n"]);return S=function(){return e},e}function L(){const e=Object(E.a)(["\n  display: flex;\n  align-items: flex-end;\n"]);return L=function(){return e},e}function T(){const e=Object(E.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  height: 30px;\n"]);return T=function(){return e},e}const _=y.a.div(T()),D=Object(y.a)(b.e)(L()),I=Object(y.a)(b.a)(S()),V=Object(y.a)(b.d)(M());class N extends r.Component{constructor(e){super(e),this.onChangePost=e=>{this.setState({postValue:e.target.value})},this.onClickEnviar=()=>{this.props.addPost(this.state.postValue)},this.state={postValue:""}}render(){return s.a.createElement(b.c,null,s.a.createElement(_,null,s.a.createElement(b.j,null,"Criar publica\xe7\xe3o")),s.a.createElement(b.g,null),s.a.createElement(D,null,s.a.createElement(I,null),s.a.createElement(b.i,{label:"No que voc\xea est\xe1 pensando?",fullWidth:!0,multiline:!0,onChange:this.onChangePost,value:this.state.postValue})),s.a.createElement(b.g,null),s.a.createElement(V,null,s.a.createElement(b.b,{onClick:this.onClickEnviar,variant:"contained",color:"primary"},"Enviar")))}}var A=Object(d.b)(null,e=>({addPost:t=>e(w(t))}))(N),J=n(159),K=n.n(J),q=n(160),G=n.n(q),H=n(161),U=n.n(H);function W(){const e=Object(E.a)(["\n  display: flex;\n  justify-content: space-between;\n"]);return W=function(){return e},e}const z=Object(y.a)(b.d)(W());class F extends r.Component{constructor(e){super(e),this.onClickLikeButton=()=>{this.props.likePost(this.props.post.id)},this.state={}}render(){return s.a.createElement(b.c,null,s.a.createElement(b.f,{avatar:s.a.createElement(b.a,null),title:"Usu\xe1rio",subheader:"H\xe1 15 min"}),s.a.createElement(b.e,null,s.a.createElement(b.j,{component:"p"},this.props.post.text)),s.a.createElement(z,null,s.a.createElement(b.h,{variant:"contained",onClick:this.onClickLikeButton},s.a.createElement(K.a,{color:this.props.post.likedByMe?"secondary":"inherit"})),s.a.createElement(b.h,{variant:"contained"},s.a.createElement(G.a,null)),s.a.createElement(b.h,{variant:"contained"},s.a.createElement(U.a,null))))}}var Q=F;class R extends s.a.Component{componentDidMount(){this.props.fetchPosts()}render(){return this.props.postsList.map(e=>s.a.createElement(Q,{post:e,likePost:this.props.onLikePost}))}}var X=Object(d.b)(e=>({postsList:e.posts}),e=>({fetchPosts:()=>e(C()),onLikePost:t=>e(B(t))}))(R);function Y(){const e=Object(E.a)(["\n  display: grid;\n  grid-template-columns: 400px;\n  justify-content: center;\n  gap: 15px;\n"]);return Y=function(){return e},e}const Z=y.a.div(Y());class $ extends r.Component{render(){return s.a.createElement(Z,null,s.a.createElement(A,null),s.a.createElement(X,null))}}var ee=$;const te=[{id:1,text:"Post legal",likedByMe:!1},{id:2,text:"Outro post, esse com like!",likedByMe:!0}],ne=Object(m.c)({posts:(e=te,t)=>{switch(console.log(t),t.type){case"ADD_POST":return[{text:t.payload.text,id:t.payload.id,likedByMe:t.payload.likedByMe},...e];case"SET_POSTS":return t.payload.postsList;case"LIKE_POST":return e.map(e=>e.id===t.payload.id?Object(a.a)(Object(a.a)({},e),{},{likedByMe:!e.likedByMe}):e);default:return e}}});var ae=n(162);const re=Object(p.createGenerateClassName)(),se=Object(u.create)(Object(a.a)(Object(a.a)({},Object(p.jssPreset)()),{},{insertionPoint:document.getElementById("jss-insertion-point")})),oe=Object(p.createMuiTheme)({palette:{type:"dark"}}),ce=Object(m.d)(ne,Object(m.a)(ae.a));function ie(){return s.a.createElement(l.a,{jss:se,generateClassName:re},s.a.createElement(p.MuiThemeProvider,{theme:oe},s.a.createElement(f.a,null),s.a.createElement(d.a,{store:ce},s.a.createElement(ee,null))))}const le=document.getElementById("root");c.a.render(s.a.createElement(ie,null),le)}},[[239,1,2]]]);
//# sourceMappingURL=main.245e613f.chunk.js.map